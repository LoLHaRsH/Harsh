#include<iostream>
#include<limits>
#include<string.h>
using namespace std;
class studData;

class student
{
private:
    
    string name;
    int roll_no;
    string cls ;
    string  division;
    string dob;
    string  bloodgroup;
    static int count;

public:
    student(){
        name="";
        roll_no=0;
        cls="";
        division= "";
        dob="dd/mm/yyyy";
        bloodgroup= "";
    }
    ~student(){
        
    }
    static int getCount(){
        return count;
    }
    void getData(studData*);
    void dispData(studData*);
};

class studData{
    string caddress;
    long int *telno;
    long int *dlno;
    class student;

public:
    studData(){
        caddress="";
        telno=new long;
        dlno=new long;
    }
    ~studData(){
       
    }

    void getstudData(){
        cout<<"Enter address of student : ";
        cin.ignore(numeric_limits<streamsize>::max(), '\n');

        getline(cin,caddress);
        cout<<"Enter telephonhe number : ";
        cin>>*telno;
        cout<<"Eneter driving license number : ";
        cin>>*dlno;
    }
    void dispstudData(){
        cout<<"Address of student : "<<caddress<<endl;
        cout<<"Telephone Number : "<<*telno<<endl;
        cout<<"Driving license number : "<<*dlno<<endl;
    }
};

inline void student :: getData(studData* st){
    cout<<"Enetr student name : ";
    // cin.ignore(numeric_limits<streamsize>::max(), '\n');
    cin.clear();
    getline(cin,name);
    cout<<"Eneter roll no of student : ";
    cin>>roll_no;
    cout<<"Enter class : ";
    cin.ignore(numeric_limits<streamsize>::max(), '\n');

    getline(cin, cls);
    cout<<"Enter division of nclass : ";
    cin>>division;
    cout<<"Enter date of birth : ";
    cin.ignore(numeric_limits<streamsize>::max(), '\n');

    getline(cin,dob);
    cout<<"Enter blood group : ";
    cin>>bloodgroup;
    st->getstudData();
    count++;
}

inline void student :: dispData(studData*st1){
    cout<<"Student name : "<<name<<endl;
    cout<<"Roll no : "<<roll_no<<endl;
    cout<<"Class : "<<cls<<endl;
    cout<<"Division : "<<division<<endl;
    cout<<"Date of birth : "<<dob<<endl;
    cout<<"Blood group : "<<bloodgroup<<endl;
    st1 -> dispstudData();
}
int student :: count = 0;

int main (){
    student* stud1[100];
    studData* stud2[100];
    int n= 0;
    char ch;

    do{
        stud1[n]=new student;
        stud2[n]= new studData;
        stud1[n]->getData(stud2[n]);
        n++;

        cout<<"Do you want to add another student ? ";
        cin>>ch;
        cin.get();
    }while(ch=='y' || ch=='Y');

    for(int i=0 ; i<n; i++){
        stud1[i]->dispData(stud2[i]);
    }

    cout<<"\nTotal students : "<<student::getCount();
    for(int i=0; i<n; i++){
        delete stud1[i];
        stud1[i]=nullptr;
        delete stud2[i];
        stud2[i]=nullptr;
    }

}
